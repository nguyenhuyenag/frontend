<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Deferred</title>
    <link rel="shortcut icon" href="#">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css">
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(function () {
            var $logger = $("#logEntry");

            function addLog(content) {
                $logger.append($("<li/>").html(content));
            }

            var newPromise = $.Deferred();

            $.when(newPromise).done(function () {
                addLog("1st $when().done!");
            });

            newPromise.then(function () {
                addLog("then 1st");
            }).always(function () {
                addLog("always 1st ");
            }).done(function () {
                addLog("done 1st ");
            }).done(function () {
                addLog("done 2nd ");
            }).always(function () {
                addLog("always 2nd");
            }).then(function () {
                addLog("then 2nd");
            });

            $.when(newPromise).done(function () {
                addLog("2nd $when().done!");
            });

            addLog("Call method");

            newPromise.resolve();
        });
    </script>
</head>

<body>
    <div class="container mt-4">
        <ul id="logEntry"></ul>
    </div>
</body>

</html>