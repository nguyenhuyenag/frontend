<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Deferred</title>
    <link rel="shortcut icon" href="#">
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css">
    <script>
        function addLog(content) {
            $("#logEntry").append($("<li/>").html(content));
        }

        $(function () {
            let newPromise = $.Deferred();
            
            $.when(newPromise).done(function () {
                addLog("$when().done 1st");
            });

            $.when(newPromise).done(function () {
                addLog("$when().done 2nd");
            });

            newPromise.then(function () {
                addLog("Then() 1st");
            })
            .always(function () {
                addLog("Always() 1st");
            })
            .done(function () {
                addLog("Done() 1st");
            })
            .done(function () {
                addLog("Done() 2nd");
            })
            .always(function () {
                addLog("Always() 2nd");
            })
            .then(function () {
                addLog("Then() 2nd");
            });

            addLog("Call method");

            newPromise.resolve();
        });
    </script>
</head>

<body>
    <div class="container mt-4">
        <h1>Deferred</h1>
        <p>
            Deferreds là một cách để xử lý các tác vụ bất đồng bộ, đảm bảo rằng các tác vụ này được thực thi một cách
            tuần tự và cho phép bạn thực hiện các hành động khi các tác vụ này hoàn thành
        </p>
        <ul id="logEntry"></ul>
    </div>
</body>

</html>